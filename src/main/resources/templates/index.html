<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Employee Management System</title>
<link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css" />
<style>
/* Background and overall styles */
body {
	background: linear-gradient(135deg, #d9faff, #f0f8ff);
	font-family: 'Arial', sans-serif;
	color: #333;
	margin: 0;
	padding: 0;
}

/* Header styles */
h2 {
	color: #2c88d9;
	font-size: 2.5rem;
	text-align: center;
	margin: 30px 0;
	font-weight: bold;
	text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
}

/* Form styles */
.form-inline input, .form-inline select {
	margin-right: 10px;
	border: 1px solid #2c88d9;
	border-radius: 20px;
	padding: 10px;
	transition: all 0.3s ease-in-out;
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.form-inline input:focus, .form-inline select:focus {
	outline: none;
	box-shadow: 0 0 10px rgba(44, 136, 217, 0.6);
}

/* Button styles */
.btn-primary, .btn-success, .btn-info {
	background-color: #2c88d9;
	border: none;
	border-radius: 20px;
	padding: 10px 20px;
	font-weight: bold;
	transition: all 0.3s ease;
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.btn-primary:hover, .btn-success:hover, .btn-info:hover {
	background-color: #5a9bd6;
	transform: translateY(-3px);
	box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
}

.btn-secondary {
	background-color: #00c3a5;
	border: none;
	border-radius: 20px;
	padding: 8px 16px;
	font-weight: bold;
	transition: all 0.3s ease;
}

.btn-secondary:hover {
	background-color: #36d3bb;
	transform: translateY(-3px);
	box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
}

/* Table styles */
.table {
	background-color: #ffffff;
	border: 1px solid #ccc;
	border-radius: 10px;
	overflow: hidden;
	box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
	animation: fadeInUp 0.5s ease-in-out;
}

.table th {
	background: linear-gradient(135deg, #2c88d9, #87cefa);
	color: #fff;
	text-align: center;
	font-weight: bold;
}

.table th:hover {
	cursor: pointer;
	background: #4682b4;
	transition: all 0.3s ease-in-out;
}

.table tbody tr:hover {
	background-color: #f1f9ff;
	transform: scale(1.02);
	transition: all 0.2s ease-in-out;
}

/* Pagination styles */
.pagination {
	justify-content: center;
	margin-top: 20px;
}

.pagination .page-link {
	color: #2c88d9;
	border-radius: 50%;
	width: 40px;
	height: 40px;
	display: flex;
	align-items: center;
	justify-content: center;
	transition: all 0.3s ease;
}

.pagination .page-link:hover {
	background-color: #5a9bd6;
	color: white;
	transform: scale(1.1);
}

.pagination .active .page-link {
	background-color: #2c88d9;
	color: #fff;
}

/* Animations */
@keyframes fadeInUp {from { opacity:0;
	transform: translateY(20px);
}

to {
	opacity: 1;
	transform: translateY(0);
}
}
</style>
</head>
<body>
	<div class="container">
		<h2>Employee Management System</h2>
		<div>
			<!-- Search Form -->
			<form th:action="@{/employees/search}" method="get"
				class="form-inline justify-content-center mb-4">
				<input type="text" name="keyword" class="form-control mb-2"
					placeholder="Search by Name" /> <select name="department"
					class="form-control mb-2">
					<option value="">Select Department</option>
					<option th:each="department : ${departments}"
						th:value="${department.name}" th:text="${department.name}"></option>
				</select>
				<button type="submit" class="btn btn-secondary mb-2">Search</button>
			</form>

			<!-- Navigation Links -->
			<div class="text-center">
				<a class="btn btn-primary mb-3" th:href="@{/showNewEmployeeForm}">Add
					Employee</a> <a class="btn btn-success mb-3"
					th:href="@{/employees/export/excel}">Export to Excel</a> <a
					class="btn btn-info mb-3" th:href="@{/departments}">Manage
					Departments</a>
			</div>
		</div>

		<!-- Employee Table -->
		<div th:if="${listEmployees != null}">
			<table class="table table-bordered">
				<thead>
					<tr>
						<th
							th:click="|@{/page/1(sortField='firstName',sortDir=${reverseSortDir})}|">First
							Name</th>
						<th
							th:click="|@{/page/1(sortField='lastName',sortDir=${reverseSortDir})}|">Last
							Name</th>
						<th
							th:click="|@{/page/1(sortField='email',sortDir=${reverseSortDir})}|">Email</th>
						<th>Department</th>
						<th>Actions</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="employee : ${listEmployees}">
						<td th:text="${employee.firstName}"></td>
						<td th:text="${employee.lastName}"></td>
						<td th:text="${employee.email}"></td>
						<td
							th:text="${employee.department != null ? employee.department.name : 'N/A'}"></td>
						<td><a
							th:href="@{/showFormForUpdate/{id}(id=${employee.id})}">Edit</a>
							| <a th:href="@{/deleteEmployee/{id}(id=${employee.id})}">Delete</a>
						</td>
					</tr>
				</tbody>
			</table>
		</div>

		<!-- Pagination -->
		<div th:if="${totalPages > 1}">
			<ul class="pagination">
				<li th:if="${currentPage > 1}"><a class="page-link"
					th:href="@{/page/{pageNo}(pageNo=${currentPage - 1})}">❮</a></li>
				<li th:each="i : ${#numbers.sequence(1, totalPages)}"
					th:classappend="${i == currentPage} ? 'active'"><a
					class="page-link" th:href="@{/page/{pageNo}(pageNo=${i})}"
					th:text="${i}"></a></li>
				<li th:if="${currentPage < totalPages}"><a class="page-link"
					th:href="@{/page/{pageNo}(pageNo=${currentPage + 1})}">❯</a></li>
			</ul>
		</div>
	</div>
</body>
</html>
